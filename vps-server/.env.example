# ========================================
# VPS服务端配置文件 - v2.0
# 所有标记为【必需】的配置项必须设置，否则服务无法启动
# ========================================

# ========================================
# 基础配置【必需】
# ========================================
PORT=3000
NODE_ENV=development

# ========================================
# 域名配置【必需】
# ========================================

# VPS基础域名（本服务的公网访问地址）
VPS_BASE_URL=https://yoyo-vps.your-domain.com

# Workers API域名（Cloudflare Workers的访问地址）
WORKERS_API_URL=https://yoyoapi.your-domain.com

# Tunnel域名（隧道代理的访问地址，如果使用隧道模式）
TUNNEL_BASE_URL=https://tunnel-hls.yoyo-vps.your-domain.com

# ========================================
# API密钥配置【必需】
# ========================================

# VPS API密钥（用于Workers调用VPS接口的认证）
VPS_API_KEY=your-vps-api-key-change-in-production

# Workers API密钥（用于VPS调用Workers接口的认证，如预加载、录制等功能）
WORKERS_API_KEY=your-workers-api-key-change-in-production

# ========================================
# 第三方服务配置（可选）
# ========================================

# 节假日查询API（用于工作日判断，预加载和录制功能需要）
HOLIDAY_API_URL=https://timor.tech/api/holiday/info

# ========================================
# 代理测试配置（可选）
# ========================================

# 代理测试URL - 百度
PROXY_TEST_BAIDU=https://www.baidu.com

# 代理测试URL - Google
PROXY_TEST_GOOGLE=https://www.google.com

# 代理测试默认URL
PROXY_TEST_DEFAULT=https://www.baidu.com

# ========================================
# 端口配置（可选）
# ========================================

# SOCKS5代理端口（默认1080）
SOCKS5_PORT=1080

# ========================================
# CORS配置（可选）
# ========================================

# 允许的来源域名（多个用逗号分隔）
ALLOWED_ORIGINS=https://yoyo.your-domain.com,https://secure-streaming-platform.pages.dev

# ========================================
# 路径配置【必需】
# ========================================

# HLS输出目录
HLS_OUTPUT_DIR=./hls

# 日志目录
LOG_DIR=./logs

# 录制文件基础目录（仅作为后备值，实际路径从KV频道配置的storagePath读取）
# RECORDINGS_BASE_DIR=/var/www/recordings

# ========================================
# FFmpeg配置（可选）
# ========================================

# FFmpeg可执行文件路径
FFMPEG_PATH=/usr/bin/ffmpeg

# HLS分片时长（秒）
HLS_SEGMENT_TIME=2

# HLS播放列表大小
HLS_LIST_SIZE=6

# ========================================
# 日志配置（可选）
# ========================================

# 日志级别：error, warn, info, debug
LOG_LEVEL=info

# ========================================
# IP白名单配置（可选）
# ========================================

# 是否启用IP白名单验证
ENABLE_IP_WHITELIST=false

# Cloudflare IP范围（多个用逗号分隔）
CLOUDFLARE_IP_RANGES=103.21.244.0/22,103.22.200.0/22,103.31.4.0/22,104.16.0.0/13,104.24.0.0/14,108.162.192.0/18,131.0.72.0/22,141.101.64.0/18,162.158.0.0/15,172.64.0.0/13,173.245.48.0/20,188.114.96.0/20,190.93.240.0/20,197.234.240.0/22,198.41.128.0/17
